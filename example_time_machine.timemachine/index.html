<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>

    <link href="css/snaplapse.css" rel="stylesheet" type="text/css"/>
    <link href="css/jquery-ui/smoothness/jquery-ui.custom.css" rel="stylesheet" type="text/css"/>
    <link href="css/defaultUI.css" rel="stylesheet" type="text/css"/>
    <link href="css/visualizer.css" rel="stylesheet" type="text/css"/>
    <link href="css/annotator.css" rel="stylesheet" type="text/css"/>
    <link href="css/customUI.css" rel="stylesheet" type="text/css"/>

    <script src="js/jquery/jquery.min.js" type="text/javascript"></script>
    <script src="js/jquery/jquery-ui.custom.min.js" type="text/javascript"></script>
    <script src="js/jquery/plugins/mouse/jquery.mousewheel.min.js" type="text/javascript"></script>
    <script src="js/kinetic/kinetic.min.js" type="text/javascript"></script>
    <script src="js/org/gigapan/util.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/videoset.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/parabolicMotion.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/timelapse.js" type="text/javascript"></script>
    <script src="js/Math.uuid.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/snaplapse.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/snaplapseViewer.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/mercator.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/visualizer.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/annotator.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/customUI.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/defaultUI.js" type="text/javascript"></script>
    <script src="js/org/gigapan/timelapse/urlEncoder.js" type="text/javascript"></script>
    <script src="ajax_includes.js" type="text/javascript"></script>
    <script src="template_includes.js" type="text/javascript"></script>

    <script type="text/javascript">
      jQuery.support.cors = true;

      var url = "./";

      function init() {
        var settings = {
          url: url,
          enableEditor: true,
          onTimeMachinePlayerReady: function(viewerDivId) {
          },
          disableTourLooping: true,
          mediaType: ".mp4",
          showFullScreenBtn: false,
          useThumbnailServer: false,
          showEditorModeButton: false
        };
        timelapse = new org.gigapan.timelapse.Timelapse("timeMachine", settings);
      }

      $(init);
    </script>
  </head>
  <body>
    <div id="timeMachine" style="margin: 20 auto;margin-bottom:0;width:300px;"></div>
    <script type="text/javascript">
    var dim = (function () {
      var _pW, _pH;
      if (document.body && document.body.offsetWidth) {
        _pW = document.body.offsetWidth;
        _pH = document.body.offsetHeight;
      }
      if (document.compatMode == 'CSS1Compat' && 
          document.documentElement && document.documentElement.offsetWidth) {
        _pW = document.documentElement.offsetWidth;
        _pH = document.documentElement.offsetHeight;
      }
      if (window.innerWidth && window.innerHeight) {
        _pW = window.innerWidth;
        _pH = window.innerHeight;
      }

      return { width : _pW, height : _pH };
    })();

    var div = document.getElementById( "the_div" );
    div.style.height = dim.height - 20 + "px";
  </script>
  </body>
</html>
